
<body>
<script src="./diff_lib.js"></script>
<script>

var t = document.createElement('textarea')
t.style.width = '100%'
t.style.height = '100%'
document.body.append(t)

var ZY2 = diff_lib.create_diffsyncZY2('wss://invisible.college:60606', 'goop4', function () {
    return t.value
}, function () {
    return [t.selectionStart, t.selectionEnd]
}, function (text, range) {
    t.value = text
    t.setSelectionRange(range[0], range[1])
}, null)

t.onkeyup = function () {
    ZY2.commit()
}
t.onpaste = function () {
    setTimeout(function () {
        ZY2.commit()
    }, 0)
}

</script>
</body>
